---
title: SD04
dimension: solution
tags: [separation,encapsulation,coupling,flexibility]
nav_order: 2.34

description: Design Principles

requirement: |
  Solution design **SHOULD** follow good practice design principles. E.g. Separation of concerns Encapsulation / Modularisation Loose coupling High cohesion / single responsibility Design for flexibility/change

more_info: |
  Goal:
    Achieve modular, evolvable architecture with clear responsibilities,
    minimised coupling and explicit variability points.

  Key principles (interpretation):
    - Separation of concerns: isolate orthogonal responsibilities (auth, routing)
    - Modularisation / encapsulation: internal details hidden behind stable APIs
    - Loose coupling: minimise synchronous, chatty dependencies; prefer contracts
    - High cohesion: components centred on a single functional purpose
    - Design for change: anticipate scaling, substitution, extension patterns

  Tactics:
    - Define dependency direction (acyclic where possible)
    - Use domain events to reduce direct temporal coupling
    - Introduce anti-corruption layers around legacy / external systems
    - Version public APIs with deprecation policy
    - Prefer composition over inheritance at service & code granularity

  Smells to watch:
    - Growing God Service / multi-purpose module
    - Tight release coordination across many components (temporal coupling)
    - Hidden shared databases bypassing service contracts
    - Duplicated cross-cutting logic (auth, logging) across services

examples: 
    - title: Dependency Graph Extract
      content: |
        Directed graph showing acyclic service dependencies with event edges.
    - title: Anti-Corruption Layer Diagram
      content: |
        Wrapper service translating legacy schema into canonical domain model.
    - title: Cohesion Checklist Outcome
      content: |
        Evaluation sheet verifying each service's primary responsibility statement.

technology:
    - title: Static Analysis (Import Graph Tool)
      content: |
        Detects cyclic dependencies / layering violations.
    - title: Event Streaming Platform (Kafka / SNS)
      content: |
        Decouples producers & consumers through asynchronous contracts.
    - title: API Gateway
      content: |
        Centralises cross-cutting concerns & version negotiation.

further_reading:
    - title: Clean Architecture (Uncle Bob)
      content: Layering & dependency direction concepts.
      url: https://8thlight.com/blog/uncle-bob
    - title: Building Evolutionary Architectures
      content: Fitness functions for architectural qualities.
      url: https://www.thoughtworks.com/books

assessment_guidance: |
  Assessment focus:
    Determine if design principles are measured, enforced and guiding evolution (not just aspirational list).

  Steps:
    1. Collect dependency graph / layering report: verify absence of forbidden cycles; note any violations & remediation tickets.
    2. Choose one service: inspect cohesion statement vs actual responsibilities (source tree & ADR references) for drift.
    3. Examine event-driven interactions: confirm asynchronous boundaries reduce coupling (no synchronous back-channel leaks).
    4. Review API versioning & deprecation records to ensure flexibility principle is operationalised.
    5. Inspect configuration & feature toggles enabling substitutability or controlled change (e.g., can a data store be swapped?).

  Evidence:
    - Dependency graph export
    - Cohesion checklist outcome
    - Event vs synchronous call comparison
    - Deprecation / version log snippet

  Red flags:
    - Shared database schemas across multiple bounded services
    - High fan-out synchronous call chains (latency amplification)
    - Growth of util / common modules absorbing diverse responsibilities

  Maturity signals:
    - Fitness functions executed in CI (cyclic dependency, complexity budgets)
    - Principle adherence metrics (e.g. layering violations count trend)
    - Periodic architectural drift reviews with documented outcomes

  Quick improvements:
    - Introduce automated dependency cycle check
    - Add principle_adherence.md summarising current violations & owners
    - Establish deprecation template & SLA

design_principles:
  - Separation of concerns 
  - Encapsulation / Modularisation 
  - Loose coupling 
  - High cohesion / single responsibility 
  - Design for flexibility/change 
  - Etc. 







---
<ul>
{%- for principle in page.design_principles  -%}
<li>
{{ principle  | markdownify}}
</li>
{% endfor %}
<ul>
