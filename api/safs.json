---
---

{%- assign pages = site.safs | where_exp: "p", "p.layout != nil" -%}

{
"version": v{{ site.data.changelog.changelog.version}},
"version_date": {{ site.data.changelog.changelog.date}},
"safs":
  [
    {%- for p in pages %}
      {
      "title": {{ p.title | strip_newlines | jsonify  }},
      "url": {{ p.url | relative_url | strip_newlines |  jsonify  }},
      "description": {{ p.description |strip_newlines |  jsonify  }},
  "dimension": {{ p.dimension | strip_newlines | jsonify  }},
  "tags": {{ p.tags | jsonify }},
  "nav_order": {{ p.nav_order | jsonify }},
  "requirement": {{ p.requirement | markdownify | strip_newlines | jsonify  }},
  "more_info": {{ p.more_info | markdownify | strip_newlines | jsonify }},
  "examples": {{ p.examples | jsonify }},
  "technology": {{ p.technology | jsonify }},
  "further_reading": {{ p.further_reading | jsonify }},
  "assessment_guidance": {{ p.assessment_guidance | markdownify | strip_newlines | jsonify }},
  "assessment_examples": {{ p.assessment_examples | jsonify }},
  "content": {{ p.content | markdownify | strip_html | strip_newlines | jsonify  }}
      }
      {%- unless forloop.last %},{% endunless -%}
    {% endfor %}
  ]
}